<template>
  <audio id="music" preload="preload" src="http://haos.fun:8088/music/dj01.mp3">
  </audio>
  <el-tooltip :content="(musicInfo.switch ? 'å…³é—­' : 'å¼€å¯') + 'èƒŒæ™¯éŸ³ä¹'" placement="top">
    <el-switch v-model="musicInfo.switch" style="--el-switch-on-color: #13ce66; --el-switch-off-color: black"
      inline-prompt inactive-text="ğŸ§" @change="musicSwitch" />
  </el-tooltip>
</template>
<script setup lang="ts">
import { reactive, onMounted, defineProps, defineExpose, watch } from 'vue'

const props = defineProps(['switch'])
const musicInfo = reactive({
  switch: props.switch,
  list: [],
})
// ç”Ÿå‘½å‘¨æœŸé’©å­
onMounted(() => {

})
// ç›‘å¬çˆ¶ç»„ä»¶éŸ³ä¹å¼€å…³çš„å˜åŒ–
watch(props, (props) => {
  musicInfo.switch = props.switch,
  musicSwitch()
})

const musicSwitch = () => {
  const music: any = document.getElementById("music")
  if (musicInfo.switch) {
    music.play()
  } else {
    music.pause()
  }
}

//æš´éœ²æ–¹æ³• ä¸ç„¶çˆ¶ç»„ä»¶è°ƒç”¨ä¸åˆ°è¿™ä¸ªæ–¹æ³•
defineExpose({
  musicSwitch
})
</script>